

@{
    ViewBag.Title = "PaymentVerification";
}

<div class="row">
    <div class="col-lg-12">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <div class="row text-center">
                    <h5 class="col-12 text-black-100 font-weight-bold">
                        <b><label class="Enlan">Update Payment Verification Details</label><label class="knlan">ಡಿಡಿಒ ವಿವರಗಳನ್ನು ನವೀಕರಿಸಿ</label></b>
                    </h5>
                </div>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="form-group col-6">
                        <label for="lblkgidno" class="control-label Enlan">Application Ref No:</label>
                        <label for="lblkgidno" class="control-label knlan">ಅರ್ಜಿ ಉಲ್ಲೇಖ ಸಂಖ್ಯೆ:</label>
                        <input class="form-control form-control-sm ClNum" id="txtRefNo" name="txtRefNo" type="text" maxlength="14" placeholder="Enter Appl Ref Number">

                        <label id="errRefNo" class="col-form-label-sm text-danger err" hidden>Please Enter Application reference Number</label>
                    </div>
                    <div class="form-group col-3">
                        <br />
                        @*<a id="btnShowDetails" class="btn btn-primary">View</a>*@
                        <input type="submit" value="View" class="btn btn-primary" id="btnShowDetails" />
                    </div>
                    <div class="form-group col-3">
                        <br />
                        <input type="button" value="Payment Status Discription" class="btn btn-primary" id="btnShowDiscription" onclick="showdiscription();" />
                        <input type="button" value="Close" class="btn btn-primary" id="btnhideDiscription" onclick="hidediscription();" />
                      </div>
                  
                </div>
               
                <div class="card-body"  id="discriptiondiv" >
                    <div id="DivDscData">
                        <div class="form-group">
                            <table id="tblPaymentStatusDiscription" class="table table-striped table-bordered" style="width:100%;">
                                <thead>
                                    <tr>
                                        <th>Payment Status No.</th>
                                        <th>Payment Status Discription</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>Payment pending at payment gateway</td>
                                    </tr>
                                   
                                    <tr>
                                        <td>2</td>
                                        <td>Payment received at payment gateway</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>Payment failed at payment gateway</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>Challan Expired</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>Payment received at agency bank</td>
                                    </tr>
                                    <tr>
                                        <td>6</td>
                                        <td>Payment pending with agency bank</td>
                                    </tr>
                                   
                                    <tr>
                                        <td>7</td>
                                        <td>Transaction Failed</td>
                                    </tr>
                                    <tr>
                                        <td>8</td>
                                        <td>Cheque Bounced</td>
                                    </tr>
                                    <tr>
                                        <td>9</td>
                                        <td>Lost in transit</td>
                                    </tr>
                                    <tr>
                                        <td>10</td>
                                        <td>Mutilated</td>
                                    </tr>
                                    <tr>
                                        <td>11</td>
                                        <td>Signature Missing</td>
                                    </tr>
                                    <tr>
                                        <td>12</td>
                                        <td>Overwriting</td>
                                    </tr>
                                    <tr>
                                        <td>13</td>
                                        <td>Amount mismatch</td>
                                    </tr>
                                    <tr>
                                        <td>14</td>
                                        <td>Cheque/DD accepted, clearance awaited</td>
                                    </tr>
                                    <tr>
                                        <td>15</td>
                                        <td>Payment not initiated at payment gateway</td>
                                    </tr>
                                    <tr>
                                        <td>16</td>
                                        <td>Challan Expired Reconcilation status</td>
                                    </tr>
                                    <tr>
                                        <td>17</td>
                                        <td>TTR in Progress</td>
                                    </tr>
                                    <tr>
                                        <td>18</td>
                                        <td>TTR Approved</td>
                                    </tr>
                                   
                                   

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div id="DetailsDiv">
                  
                </div>
               
                <div class="row" id="divEmpDetails" style="display:none;">
                    <div class="form-group col-5">
                        <label for="lblddocode" class="control-label Enlan">Employee Name:</label>
                        <label for="lblddocode" class="control-label knlan">ಪ್ರಸ್ತಾಪಕರ ಹೆಸರು:</label>
                        <input class="form-control form-control-sm preventSpace ClAlphaNum" id="txtEmployeeName" name="txtEmployeeName" type="text" disabled>
                        @*<label id="errDDOCD" class="col-form-label-sm text-danger err" hidden>Please Enter DDO Code</label>*@
                    </div>
                    <div class="form-group col-5" id="divMobileNo">
                        <label for="lbldioofc" class="control-label Enlan">Mobile No.:</label>
                        <label for="lbldioofc" class="control-label knlan">ದೂರವಾಣಿ:</label>
                        <input class="form-control form-control-sm" id="txtEmpMobile" name="txtEmpMobile" type="text" disabled>
                        @*<label id="errDIOOfc" class="col-form-label-sm text-danger err" hidden>Please Enter DIO Office</label>*@
                    </div>
                </div>
                <div class="row" id="divDDODetails">
                    <div class="form-group col-5">
                        <label for="lblddocode" class="control-label Enlan">DDO Code:</label>
                        <label for="lblddocode" class="control-label knlan">ಡಿಡಿಒ ಕೋಡ್:</label>

                        <input class="form-control form-control-sm preventSpace ClAlphaNum" id="txtDDOCODE" onkeyup="GetDIOOffice();" name="txtDDOCODE" type="text" maxlength="6" placeholder="Enter DDO Code " disabled>
                        <label id="errDDOCD" class="col-form-label-sm text-danger err" hidden>Please Enter DDO Code</label>
                    </div>
                    <div class="form-group col-5">
                        <label for="lbldioofc" class="control-label Enlan">DDO Office:</label>
                        <label for="lbldioofc" class="control-label knlan">ಡಿಐಒ ಕಚೇರಿ:</label>
                        <input class="form-control form-control-sm" id="txtDIOOfc" name="txtDIOOfc" type="text" placeholder="Enter DIO Office" disabled>                      
                    </div>                   
                </div>

                <div class="row" id="divUpdateDDO">
                    <div class="form-group col-5">
                        <label for="lblddocode" class="control-label Enlan">Update DDO Code:</label>
                        <label for="lblddocode" class="control-label knlan">ಡಿಡಿಒ ಕೋಡ್:</label>
                        <input class="form-control form-control-sm preventSpace ClAlphaNum" id="txtUpdateDDOCODE" onkeyup="GetDIOOffice();" name="txtUpdateDDOCODE" type="text" maxlength="6" placeholder="Enter DDO Code">
                        <label id="errUpdateDDOCD" class="col-form-label-sm text-danger err" hidden>Please Enter DDO Code</label>
                    </div>
                    <div class="form-group col-5">
                        <label for="lbldioofc" class="control-label Enlan">DDO Office:</label>
                        <label for="lbldioofc" class="control-label knlan">ಡಿಡಿಒ ಕಚೇರಿ:</label>
                        <input class="form-control form-control-sm" id="txtUpdateDIOOfc" name="txtUpdateDIOOfc" type="text" placeholder="Enter DDO Office" disabled>
                        @*<label id="errDIOOfc" class="col-form-label-sm text-danger err" hidden>Please Enter DIO Office</label>*@
                    </div>
                </div>
                <div class="row" style="display:none;" id="divDDOExists">
                    <div class="form-group col-5">
                        <label for="lblkgidno" class="control-label Enlan">Employee Name - KGID Number:</label>
                        <label for="lblkgidno" class="control-label knlan">ಕೆಜಿಐಡಿ ಸಂಖ್ಯೆ:</label>
                        <input class="form-control form-control-sm ClNum" id="txtDDOExistsKGIDNo" name="txtDDOExistsKGIDNo" type="text" disabled>
                        @*<label id="errDDOExistsKGIDNo" class="col-form-label-sm text-danger err" hidden>Please Enter KGID Number</label>*@
                    </div>
                </div>
                <div class="form-group col-2">
                    <input type="submit" value="Update" class="btn btn-primary" id="btnUpdateDetails" />
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    $(document).ready(function () {
        $("#tblPaymentStatusDiscription").DataTable();
        $("#btnhideDiscription").hide();
        $("#discriptiondiv").hide();
    });

    $("#btnShowDetails").click(function ()
    {
        var kgidnoLength = $("#txtRefNo").val().length;
        if ($("#txtRefNo").val() == "" || $("#txtRefNo").val() == null) {
            $("#errRefNo").removeAttr('hidden');
        }
        if (kgidnoLength > 0) {
            //$("#errRefNo").Attr('hidden');
            $.ajax({
                type: 'get',
                url: '/get-paymentapplication-details/',
                data: { applicationRefNum: $("#txtRefNo").val() },
                success: function (result) {                   
                    if (result != null) {
                        $("#DetailsDiv").html(result);
                    }                    
                }                
            });
        }
    });

    function showdiscription()
    {
        $("#discriptiondiv").show();
        $("#btnhideDiscription").show();
        $("#btnShowDiscription").hide();
    }
    function hidediscription()
    {
        
        $("#discriptiondiv").hide();
        $("#btnhideDiscription").hide();
        $("#btnShowDiscription").show();
    }

    $(document).ready(function () {
        $("#txtKGIDNO").val("");
        $("#txtDDOCODE").val("");
        $("#txtDIOOfc").val("");
        $("#divDDODetails").hide();
        $("#btnUpdateDetails").hide();
        $("#divUpdateDDO").hide();
    });
</script>